<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Changelog | Vorel - FRC Match Schedule & Results Tracker</title>
  
  <!-- Open Graph  -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://vorel.app/changelog">
  <meta property="og:title" content="Changelog | Vorel - FRC Match Schedule & Results Tracker">
  <meta property="og:description" content="View the latest changes and improvements to Vorel from our GitHub repository">
  <meta property="og:image" content="https://vorel.app/banner-social3.avif">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://vorel.app/changelog">
  <meta name="twitter:title" content="Changelog | Vorel - FRC Match Schedule & Results Tracker">
  <meta name="twitter:description" content="View the latest changes and improvements to Vorel from our GitHub repository">
  <meta name="twitter:image" content="https://vorel.app/banner-social3.avif">
  
  <%- include('../partials/styles') %>
  <%- include('../style/style-home') %>
  <style>
    .container {
        min-height: auto;
    }

    /* Override hero styles for changelog */
    .hero {
      text-align: center;
      padding: var(--spacing-2xl) 0;
    }

    .hero .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 var(--spacing-lg);
    }

    .hero-logo {
      max-width: 280px;
      height: auto;
      margin: 0 auto var(--spacing-xl) auto;
      display: block;
      filter: drop-shadow(var(--shadow-glow));
      transition: transform 0.3s ease;
    }

    .hero-title {
      color: var(--text-primary);
      font-size: clamp(2.5rem, 6vw, 4rem);
      font-weight: 800;
      margin: 0 0 var(--spacing-lg) 0;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      text-align: center;
    }

    .hero-subtitle {
      color: var(--text-secondary);
      font-size: var(--text-lg);
      font-weight: 500;
      margin: 0;
      text-align: center;
      max-width: 600px;
    }

    .changelog-section {
      max-width: 900px;
      margin: 0 auto;
      padding: var(--spacing-xl);
    }
    .refresh-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(4px);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .refresh-overlay.active {
      opacity: 1;
      pointer-events: all;
    }
    
    .refresh-spinner {
      width: 60px;
      height: 60px;
      transform-style: preserve-3d;
      transform: rotateX(45deg) rotateZ(45deg);
      animation: cube-spin 2s infinite linear;
    }
    
    @keyframes cube-spin {
      0% {
        transform: rotateX(45deg) rotateY(0) rotateZ(45deg);
      }
      100% {
        transform: rotateX(45deg) rotateY(360deg) rotateZ(45deg);
      }
    }
    
    .refresh-spinner .cube-face {
      position: absolute;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      border: 2px solid var(--primary);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: var(--shadow-lg);
      border-radius: var(--radius-sm);
    }
    
    .refresh-spinner .front {
      transform: translateZ(30px);
    }
    
    .refresh-spinner .back {
      transform: rotateY(180deg) translateZ(30px);
    }
    
    .refresh-spinner .right {
      transform: rotateY(90deg) translateZ(30px);
    }
    
    .refresh-spinner .left {
      transform: rotateY(-90deg) translateZ(30px);
    }
    
    .refresh-spinner .top {
      transform: rotateX(90deg) translateZ(30px);
    }
    
    .refresh-spinner .bottom {
      transform: rotateX(-90deg) translateZ(30px);
    }
    
    .loading-message {
      text-align: center;
      color: var(--text-secondary);
      margin-top: var(--spacing-lg);
      font-size: var(--text-lg);
      font-weight: 500;
    }

    .version-card {
      background: var(--bg-card);
      border-radius: var(--radius-lg);
      padding: var(--spacing-xl);
      margin-bottom: var(--spacing-xl);
      border: 1px solid var(--surface-border);
      box-shadow: var(--shadow-md);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .version-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 50%, var(--accent) 100%);
    }

    .version-card:hover {
      background: var(--surface-hover);
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
      border-color: var(--primary);
    }
    
    .version-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--spacing-lg);
      padding-bottom: var(--spacing-md);
      border-bottom: 2px solid var(--surface-border);
    }
    
    .version-title {
      font-size: var(--text-xl);
      font-weight: 700;
      color: var(--text);
      text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    
    .version-date {
      color: var(--text-secondary);
      font-size: var(--text-sm);
      font-weight: 500;
      background: var(--bg-secondary);
      padding: var(--spacing-xs) var(--spacing-sm);
      border-radius: var(--radius-sm);
      border: 1px solid var(--surface-border);
    }
    
    .changelog-category {
      margin-top: var(--spacing-lg);
    }
    
    .category-title {
      font-size: var(--text-lg);
      font-weight: 700;
      margin-bottom: var(--spacing-md);
      padding-bottom: var(--spacing-xs);
      border-bottom: 2px solid var(--primary);
      color: var(--text);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      position: relative;
    }

    .category-title::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 30%;
      height: 2px;
      background: linear-gradient(90deg, var(--accent), transparent);
    }
    
    .category-features {
      border-bottom-color: var(--primary);
    }
    
    .change-list {
      padding-left: var(--spacing-xl);
      margin: var(--spacing-md) 0;
    }
    
    .change-list li {
      margin-bottom: var(--spacing-sm);
      color: var(--text);
      line-height: 1.6;
      position: relative;
    }

    .change-list li::marker {
      color: var(--primary);
    }
    
    .back-link {
      display: inline-flex;
      align-items: center;
      gap: var(--spacing-xs);
      margin-bottom: var(--spacing-xl);
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
      padding: var(--spacing-sm) var(--spacing-md);
      background: var(--bg-card);
      border-radius: var(--radius-md);
      border: 2px solid var(--primary);
      transition: all 0.3s ease;
    }
    
    .back-link:hover {
      background: var(--primary);
      color: white;
      transform: translateX(-4px);
      box-shadow: var(--shadow-sm);
    }

    .category-description {
      color: var(--text);
      line-height: 1.7;
      font-size: var(--text-base);
    }

    .category-description br {
      margin-bottom: var(--spacing-xs);
    }

    /* Footer specific styles */
    .footer {
      background: var(--surface);
      border-top: 1px solid var(--surface-border);
      padding: var(--spacing-2xl) 0;
      margin-top: var(--spacing-3xl);
      text-align: center;
    }

    .footer .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 var(--spacing-lg);
    }

    .footer-logo {
      max-width: 200px;
      height: auto;
      margin: 0 auto var(--spacing-lg) auto;
      display: block;
      filter: drop-shadow(var(--shadow-sm));
      transition: transform 0.3s ease;
    }

    .footer-logo:hover {
      transform: scale(1.02);
    }

    .footer-subtitle {
      color: var(--text-primary);
      font-size: var(--text-lg);
      font-weight: 600;
      margin-bottom: var(--spacing-sm);
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .footer-info {
      color: var(--text-secondary);
      font-size: var(--text-sm);
      margin-bottom: var(--spacing-sm);
    }

    .footer-copyright {
      color: var(--text-tertiary);
      font-size: var(--text-sm);
    }

    .footer-copyright a {
      color: var(--primary);
      text-decoration: none;
      transition: color 0.3s ease;
    }

    .footer-copyright a:hover {
      color: var(--accent);
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div class="main-content">
    <div class="hero">
      <div class="container">
        <img src="/banner.avif" alt="Vorel App Banner" class="hero-logo" />
        <h1 class="hero-title">Changelog</h1>
        <p class="hero-subtitle">
          History of updates and improvements to the Vorel application
        </p>
      </div>
    </div>
    
    <div class="changelog-section">
      <a href="/" class="back-link">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M20 11H7.83L13.42 5.41L12 4L4 12L12 20L13.41 18.59L7.83 13H20V11Z" fill="currentColor"/>
        </svg>
        Back to Home
      </a>
      
      <!-- Changelog Content -->
      <% if (changelogData && changelogData.length > 0) { %>
        <% changelogData.forEach(day => { %>
          <div class="version-card">
            <div class="version-header">
              <div class="version-title"><%= day.date %></div>
              <div class="version-date"><%= day.commits.length %> commit<%= day.commits.length !== 1 ? 's' : '' %></div>
            </div>
            
            <div class="changelog-category">
              <div class="category-title category-features">Changes</div>
              <ul class="change-list">
                <% day.commits.forEach(commit => { %>
                  <li>
                    <a href="<%= commit.url %>" target="_blank" style="color: inherit; text-decoration: none; border-bottom: 1px dotted var(--text-secondary);">
                      <%= commit.message %>
                    </a>
                    <span style="font-size: 0.85em; color: var(--text-secondary); margin-left: 5px;">
                      by <%= commit.author %> at <%= commit.time %> (<%= commit.sha %>)
                    </span>
                  </li>
                <% }) %>
              </ul>
            </div>
          </div>
        <% }) %>
      <% } else { %>
        <div class="version-card">
          <div class="version-header">
            <div class="version-title">No Changelog Data</div>
          </div>
          <div class="changelog-category">
            <p style="color: var(--text-secondary); text-align: center; padding: 20px;">
              Unable to load changelog data. Please visit our 
              <a href="https://github.com/1334Robotics/vorel-app/commits/main" target="_blank" style="color: var(--primary);">GitHub repository</a> 
              to view recent changes.
            </p>
          </div>
        </div>
      <% } %>
    </div>
  </div>
  
  <footer class="footer">
    <div class="container">
      <img src="/banner2.avif" alt="Vorel App Presented By 1334 Banner" class="footer-logo" />
      <div class="footer-subtitle">FRC Match Schedule & Results Tracker</div>
      <div class="footer-info">Data provided by FIRST Nexus API & The Blue Alliance APIs</div>
      <div class="footer-copyright">Vorel App © 2025 • <a href="https://github.com/1334Robotics/vorel-app">GitHub</a></div>
    </div>
  </footer>
  
</body>
</html>